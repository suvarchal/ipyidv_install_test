language: python

matrix:
  include:
  - name: linux
    python:
     - 3.6
     - 3.7
    install: pip install ipython-IDV
    script: python -c "print('hello')"

  - name: osx-py3.7
    os: osx
    osx_image: xcode11 # python 3.7 apparently
    language: shell
    #env: TOXENV=py3
    #addons:
    #   homebrew:
    #     update: true
    #     packages: python3
  - os: windows-py3.7
    name: windows
    language: shell
    before_install:
       - choco install python # python 3.7 apparently
       - python -m pip install --upgrade pip
    env: PATH=/c/Python37:/c/Python37/Scripts:$PATH
#    install: pip3 install ipython-IDV
#    script:
#       - python
#       - python -c "import ipython_IDV"

# all languages should agree on these
install: pip3 install ipython-IDV

# on windows python3 is command not found
script:
    - python3 -c "import ipython_IDV" || python -c "import ipython_IDV"
